<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Sumary</title>
    <link rel="stylesheet" href="bootstrap-3.3.7/css/bootstrap.css" />
    <script type="text/javascript" src="js/jquery-2.1.1.js" ></script>
</head>
<body>
    <div class="container" id="main" style="margin-top: 20px">
        <h3>OS</h3>
        <div id="osbar" style="height:600px; margin:20px auto;width:auto;"></div>
        <br><br>
        <h3>IPwhoisNetsDescription</h3>
        <div id="ipwhois" style="height:500px;border:0px solid #ccc;margin:60px auto;"></div>
        <br><br>
        <h3>country</h3>
        <div id="country" style="height:600px;border:0px solid #ccc;margin:20px auto;"></div>

    </div>
    <script type="text/javascript" src="js/jquery-2.1.1.js"></script>
    <script type="text/javascript" src="js/echarts.min.js"></script>
    <script type="text/javascript">
    // OS
    var myChart1 = echarts.init(document.getElementById('osbar'));
    $.ajax({
        type:"get",
        url:"data/os.json",
        async:true,
        success:function(res){
            // console.log(res.RECORDS);//
            var option1 = {
                dataset: {
                    source: res.RECORDS
                        /*[
                            {"OS": "Unknown","Number": "523"},
                            {"OS": "Linux 2.6.32","Number": "495"},
                            {"OS": "Linux 3.11 - 4.1","Number": "126"}
                        ]*/
                },
                title : {
                    text: 'OS top15 条状统计',
                    x:'center'
                },
                tooltip : {
                    trigger: 'axis',
                    axisPointer : {            // 坐标轴指示器，坐标轴触发有效
                        type : 'shadow'        // 默认为直线，可选为：'line' | 'shadow'
                    }
                },
                grid: {
                    left: '3%',
                    right: '4%',
                    bottom: '3%',
                    containLabel: true
                },
                xAxis:  {
                    type: 'value'
                },
                yAxis: {
                    type: 'category'
                },
                series: [
                    {
                        name: '数量',
                        type: 'bar',
                        stack: '总量',
                        encode: {
                            // 将 "NUM" 列映射到 X 轴。
                            x: 'NUM',
                            // 将 "OS" 列映射到 Y 轴。
                            y: 'OS'
                        },
                        label: {
                            normal: {
                                show: true,
                                position: 'insideRight'
                            }
                        }
                    }
                ]
            };
            myChart1.setOption(option1);
        }
    });

    //IpWhoisNets
    var myChart2 = echarts.init(document.getElementById('ipwhois'));
    $.ajax({
        type:"get",
        url:"data/ipwhois.json",
        async:true,
        success:function(res){
            // console.log(res.RECORDS);//
            var option2 = {
                dataset: {
                    source: res.RECORDS
                },
                title : {
                    text: 'IpWhoisNets top15 条状统计',
                    x:'center'
                },
                tooltip : {
                    trigger: 'axis',
                    axisPointer : {            // 坐标轴指示器，坐标轴触发有效
                        type : 'shadow'        // 默认为直线，可选为：'line' | 'shadow'
                    }
                },
                grid: {
                    left: '3%',
                    right: '4%',
                    bottom: '3%',
                    containLabel: true
                },
                xAxis:  {
                    type: 'value'
                },
                yAxis: {
                    type: 'category'
                },
                series: [
                    {
                        name: '数量',
                        type: 'bar',
                        stack: '总量',
                        encode: {
                            // 将 "NUM" 列映射到 X 轴。
                            x: 'NUM',
                            // 将 "IPWHOIS" 列映射到 Y 轴。
                            y: 'IPWHOIS'
                        },
                        itemStyle: {
                            color: '#2f4554'
                        },
                        label: {
                            normal: {
                                show: true,
                                position: 'insideRight'
                            }
                        }
                    }
                ]
            };
            myChart2.setOption(option2);
        }
    });

    // country
    var myChart3 = echarts.init(document.getElementById('country'));
    $.ajax({
        type:"get",
        url:"data/country.json",
        async:true,
        success:function(res){
            // console.log(res.RECORDS);
            var option3 = {
                dataset: {
                    source: res.RECORDS
                    /*[
                        {"OS": "Unknown","Number": "523"},
                        {"OS": "Linux 2.6.32","Number": "495"},
                        {"OS": "Linux 3.11 - 4.1","Number": "126"}
                    ]*/
                },
                legend: {
                    top: 'bottom'
                },
                toolbox: {
                    show: true,
                    feature: {
                        mark: {show: true},
                        dataView: {show: true, readOnly: false},
                        restore: {show: true},
                        saveAsImage: {show: true}
                    }
                },
                series: [
                    {
                        name: '面积模式',
                        type: 'pie',
                        radius: [50, 250],
                        center: ['50%', '50%'],
                        roseType: 'area',
                        itemStyle: {
                            borderRadius: 8
                        }
                    }
                ]
            };
            myChart3.setOption(option3);
        }
    });
</script>
</body>
</html>